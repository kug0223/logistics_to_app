# TO 관리 UI/UX 개선 및 향후 기능 확장 보고서

**작성일**: 2025-10-28  
**작성자**: 개발팀  
**프로젝트**: 물류 TO 관리 시스템  
**Phase**: 2-3 완료 + UI 개선 + Phase 4 기획

---

## 📋 목차

1. [금일 완료 작업](#1-금일-완료-작업)
2. [주요 개선 사항](#2-주요-개선-사항)
3. [향후 기능 확장 계획](#3-향후-기능-확장-계획)
4. [기술적 고려사항](#4-기술적-고려사항)

---

## 1. 금일 완료 작업

### 1.1 시간 표시 문제 해결

**문제 상황**:
- 그룹 TO와 단일 TO의 시간이 `~:~ ~ ~:~`로 표시되는 문제 발생
- TO 목록 화면에서 시간 범위가 제대로 계산되지 않음

**해결 방법**:
```dart
// lib/screens/admin/admin_to_list_screen.dart
// _loadTOsWithStats() 함수 내부

// ✅ 단일 TO 시간 범위 계산 추가
if (workDetails.isNotEmpty) {
  String? minStart;
  String? maxEnd;
  
  for (var work in workDetails) {
    if (minStart == null || work.startTime.compareTo(minStart) < 0) {
      minStart = work.startTime;
    }
    if (maxEnd == null || work.endTime.compareTo(maxEnd) > 0) {
      maxEnd = work.endTime;
    }
  }
  
  if (minStart != null && maxEnd != null) {
    masterTO.setTimeRange(minStart, maxEnd);
  }
}
```

**결과**:
- ✅ 그룹 TO: 모든 날짜의 업무 중 최소 시작 ~ 최대 종료 시간 표시
- ✅ 단일 TO: 모든 업무 중 최소 시작 ~ 최대 종료 시간 표시

---

### 1.2 TO 제목 표시 개선

**문제 상황**:
- 그룹 TO와 단일 TO가 동일한 형식으로 표시되어 구분이 어려움
- 단일 TO의 제목이 표시되지 않는 문제 발생

**해결 방법**:
- **그룹 TO**: 초록색 박스 + 폴더 아이콘 + 그룹명
- **단일 TO**: 파란색 박스 + 작업 아이콘 + "단일 공고" + 제목

```dart
// 그룹 TO
if (masterTO.groupName != null) ...[
  Container(
    decoration: BoxDecoration(
      color: Colors.green[50],
      border: Border.all(color: Colors.green[300]!),
    ),
    child: Row(
      children: [
        Icon(Icons.folder_open, color: Colors.green[700]),
        Text(masterTO.groupName!),
      ],
    ),
  ),
],

// 단일 TO
if (masterTO.groupName == null) ...[
  Container(
    decoration: BoxDecoration(
      color: Colors.blue[50],
      border: Border.all(color: Colors.blue[300]!),
    ),
    child: Row(
      children: [
        Icon(Icons.work_outline, color: Colors.blue[700]),
        Text('단일 공고'),
      ],
    ),
  ),
  SizedBox(height: 8),
  Text(masterTO.title, style: TextStyle(fontSize: 16, bold)),
],
```

**결과**:
- ✅ 시각적으로 그룹 TO와 단일 TO를 명확히 구분 가능
- ✅ 단일 TO의 제목이 올바르게 표시됨

---

### 1.3 모바일 터치 영역 개선

**문제 상황**:
- 관리 버튼들(수정, 삭제, 연결, 상세보기)이 너무 작아 모바일에서 터치가 어려움
- 버튼 간격이 좁아 오터치 발생 가능성

**해결 방법**:
```dart
IconButton(
  icon: const Icon(Icons.edit, size: 18),
  color: Colors.orange[600],
  // ✅ 터치 영역 확장
  padding: const EdgeInsets.all(8),
  constraints: const BoxConstraints(minWidth: 40, minHeight: 40),
  onPressed: () {...},
),
const SizedBox(width: 8),  // 간격 4 → 8로 증가
```

**적용 범위**:
- ✅ 단일 TO 버튼 (수정, 삭제, 그룹 연결, 상세보기)
- ✅ 그룹 TO 버튼 (그룹명 수정, 전체 삭제)
- ✅ 그룹 내부 TO 카드 버튼 (수정, 삭제, 그룹 해제, 상세보기)

**결과**:
- ✅ 최소 터치 영역: 40x40 픽셀 (Google Material Design 권장 사항)
- ✅ 버튼 간격: 8픽셀로 증가하여 오터치 방지

---

### 1.4 상세보기 아이콘 추가 및 통일

**개선 내용**:

#### A. 단일 TO 상세보기 추가
```dart
// 단일 TO 카드에 지원자 관리 아이콘 추가
IconButton(
  icon: const Icon(Icons.info_outline, size: 18),
  color: Colors.purple[600],
  tooltip: '지원자 관리',
  onPressed: () {
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => AdminTODetailScreen(to: masterTO),
      ),
    );
  },
),
```

#### B. 그룹 내부 TO 상세보기 아이콘 통일
- **변경 전**: `Icons.chevron_right` (회색 화살표)
- **변경 후**: `Icons.info_outline` (보라색 정보 아이콘)

**결과**:
- ✅ 모든 상세보기 아이콘이 동일한 디자인으로 통일
- ✅ 사용자 경험 일관성 확보

---

### 1.5 TO 상세 화면 배지 추가

**적용 위치**: `lib/screens/admin/admin_to_detail_screen.dart`

**개선 내용**:
```dart
// 그룹 TO
if (widget.to.groupName != null)
  Container(
    decoration: BoxDecoration(
      color: Colors.green[50],
      border: Border.all(color: Colors.green[300]!),
    ),
    child: Row(
      children: [
        Icon(Icons.folder_open, color: Colors.green[700]),
        Text(widget.to.groupName!),
      ],
    ),
  )
// 단일 TO
else
  Container(
    decoration: BoxDecoration(
      color: Colors.blue[50],
      border: Border.all(color: Colors.blue[300]!),
    ),
    child: Row(
      children: [
        Icon(Icons.work_outline, color: Colors.blue[700]),
        Text('단일 공고'),
      ],
    ),
  ),
```

**결과**:
- ✅ TO 상세 화면과 목록 화면의 디자인 일관성 확보
- ✅ 사용자가 현재 보고 있는 TO 타입을 명확히 인지 가능

---

## 2. 주요 개선 사항

### 2.1 시각적 계층 구조 확립

#### Before (개선 전)
```
┌─────────────────────────────────┐
│ 테스트1                          │  ← 그룹과 단일 구분 불가
│ 2025-10-29 (수)  ⏰ ~:~ ~ ~:~   │  ← 시간 미표시
│ 확정 0/1명  대기 0명              │
└─────────────────────────────────┘
```

#### After (개선 후)
```
┌─────────────────────────────────┐
│ 🏢 테스트1                       │
│ 📁 테스트연결합니다!  ✏️ 🗑️      │  ← 그룹 TO (초록 배지)
│ 📅 2025-10-28 (화) 외 2일         │
│ ⏰ 18:00 ~ 22:00                │  ← 시간 명확히 표시
│ 확정 0/10명  대기 0명             │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 🏢 테스트1                       │
│ 💼 단일 공고  ✏️ 🗑️ 🔗 ℹ️         │  ← 단일 TO (파란 배지)
│ 퀵배송 하실분 구합니다!           │  ← 제목 표시
│ 📅 2025-10-29 (수)               │
│ ⏰ 09:00 ~ 12:00                │  ← 시간 명확히 표시
│ 확정 0/1명  대기 0명              │
└─────────────────────────────────┘
```

### 2.2 버튼 배치 일관성

| TO 타입 | 버튼 구성 |
|---------|----------|
| **단일 TO** | ✏️ 수정 / 🗑️ 삭제 / 🔗 그룹 연결 / ℹ️ 지원자 관리 |
| **그룹 TO (헤더)** | ✏️ 그룹명 수정 / 🗑️ 전체 삭제 |
| **그룹 내부 TO** | ✏️ 수정 / 🗑️ 삭제 / 🔗❌ 그룹 해제 / ℹ️ 지원자 관리 |

### 2.3 색상 체계 정립

| 요소 | 색상 | 의미 |
|------|------|------|
| 사업장명 | 파란색 배경 | 최상위 정보 |
| 그룹 TO | 초록색 배지 | 묶음 공고 |
| 단일 TO | 파란색 배지 | 개별 공고 |
| 수정 버튼 | 주황색 | 편집 작업 |
| 삭제 버튼 | 빨간색 | 위험 작업 |
| 연결/해제 | 파란색/주황색 | 연결 작업 |
| 상세보기 | 보라색 | 정보 확인 |

---

## 3. 향후 기능 확장 계획 (Phase 4)

### 3.1 TO 상태 관리 시스템

#### 3.1.1 TO 마감 상태 구분

**목표**: 진행중 TO와 마감된 TO를 명확히 구분하여 관리

**마감 판단 기준**:
```dart
enum TOStatus {
  ACTIVE,        // 진행중
  CLOSED_MANUAL, // 수동 마감
  CLOSED_TIME,   // 시간 초과
  CLOSED_FULL,   // 인원 충족
}

bool get isClosed {
  // 1. 수동 마감
  if (isManualClosed) return true;
  
  // 2. 시간 초과 (근무 시작 시간 지남)
  final workStartDateTime = DateTime(
    date.year, date.month, date.day,
    int.parse(startTime.split(':')[0]),
    int.parse(startTime.split(':')[1]),
  );
  if (DateTime.now().isAfter(workStartDateTime)) return true;
  
  // 3. 인원 충족
  if (totalConfirmed >= totalRequired) return true;
  
  return false;
}
```

#### 3.1.2 UI 구조 (탭 방식)

```
┌─────────────────────────────────────┐
│  TO 관리                    🔄 새로고침 │
├─────────────────────────────────────┤
│  📅 날짜 선택                         │
│  🏢 사업장 필터                       │
├─────────────────────────────────────┤
│  [ 진행중 ]  [ 마감됨 ]              │  ← 탭 추가 (전체 탭 없음)
├─────────────────────────────────────┤
│                                     │
│  TO 목록...                          │
│                                     │
└─────────────────────────────────────┘
```

**탭 선택 이유**:
- ✅ **진행중/마감** 두 가지만 필요
- ✅ 명확한 구분과 빠른 전환
- ✅ 스와이프 제스처 지원
- ✅ 기본 활성화: "진행중" 탭

**전체 탭 불필요 이유**:
- 진행중과 마감을 함께 볼 필요성이 낮음
- 필터가 복잡해짐
- 사용자 경험 저하

### 3.2 TO 마감 관리 기능

#### 3.2.1 수동 마감 기능

**위치**: TO 카드 또는 상세 화면

```dart
// 진행중 TO → 마감 처리
IconButton(
  icon: Icon(Icons.lock),
  tooltip: 'TO 마감',
  onPressed: () => _closeTOManually(),
)

Future<void> _closeTOManually() async {
  final confirmed = await showDialog(
    context: context,
    builder: (context) => AlertDialog(
      title: Text('TO 마감'),
      content: Text(
        '이 TO를 마감 처리하시겠습니까?\n\n'
        '• 더 이상 지원을 받을 수 없습니다\n'
        '• 확정된 지원자는 유지됩니다\n'
        '• 마감 취소로 재오픈 가능합니다'
      ),
      actions: [
        TextButton(
          onPressed: () => Navigator.pop(context, false),
          child: Text('취소'),
        ),
        ElevatedButton(
          onPressed: () => Navigator.pop(context, true),
          child: Text('마감'),
        ),
      ],
    ),
  );
  
  if (confirmed == true) {
    await _firestoreService.updateTO(toId, {
      'isManualClosed': true,
      'closedAt': FieldValue.serverTimestamp(),
      'closedBy': currentUserUID,
    });
  }
}
```

#### 3.2.2 마감 취소 (재오픈) 기능

```dart
// 마감된 TO → 재오픈
IconButton(
  icon: Icon(Icons.lock_open),
  tooltip: 'TO 재오픈',
  onPressed: () => _reopenTO(),
)

Future<void> _reopenTO() async {
  final confirmed = await showDialog(
    context: context,
    builder: (context) => AlertDialog(
      title: Text('TO 재오픈'),
      content: Text(
        '이 TO를 다시 열어 지원을 받으시겠습니까?\n\n'
        '• 지원자가 다시 지원할 수 있습니다\n'
        '• 기존 확정 지원자는 유지됩니다'
      ),
      actions: [
        TextButton(
          onPressed: () => Navigator.pop(context, false),
          child: Text('취소'),
        ),
        ElevatedButton(
          onPressed: () => Navigator.pop(context, true),
          child: Text('재오픈'),
        ),
      ],
    ),
  );
  
  if (confirmed == true) {
    await _firestoreService.updateTO(toId, {
      'isManualClosed': false,
      'closedAt': null,
      'closedBy': null,
      'reopenedAt': FieldValue.serverTimestamp(),
      'reopenedBy': currentUserUID,
    });
  }
}
```

#### 3.2.3 마감 사유 표시

```dart
Widget _buildClosedBadge(TOModel to) {
  String reason = '';
  Color color = Colors.grey;
  
  if (to.isManualClosed) {
    reason = '수동 마감';
    color = Colors.orange;
  } else if (to.isTimeExpired) {
    reason = '시간 초과';
    color = Colors.red;
  } else if (to.isFull) {
    reason = '인원 충족';
    color = Colors.green;
  }
  
  return Container(
    padding: EdgeInsets.symmetric(horizontal: 8, vertical: 4),
    decoration: BoxDecoration(
      color: color.withOpacity(0.1),
      borderRadius: BorderRadius.circular(12),
      border: Border.all(color: color),
    ),
    child: Row(
      mainAxisSize: MainAxisSize.min,
      children: [
        Icon(Icons.lock, size: 14, color: color),
        SizedBox(width: 4),
        Text(
          reason,
          style: TextStyle(
            fontSize: 12,
            fontWeight: FontWeight.bold,
            color: color,
          ),
        ),
      ],
    ),
  );
}
```

### 3.3 데이터베이스 스키마 확장

#### 3.3.1 TO 모델 필드 추가

```dart
class TOModel {
  // 기존 필드들...
  
  // ✅ 새로 추가할 필드
  final bool isManualClosed;        // 수동 마감 여부
  final DateTime? closedAt;         // 마감 시각
  final String? closedBy;           // 마감 처리자 UID
  final DateTime? reopenedAt;       // 재오픈 시각
  final String? reopenedBy;         // 재오픈 처리자 UID
  
  // 계산 속성
  bool get isTimeExpired {
    final workStart = DateTime(
      date.year, date.month, date.day,
      int.parse(startTime.split(':')[0]),
      int.parse(startTime.split(':')[1]),
    );
    return DateTime.now().isAfter(workStart);
  }
  
  bool get isFull => totalConfirmed >= totalRequired;
  
  bool get isClosed {
    return isManualClosed || isTimeExpired || isFull;
  }
  
  String get closedReason {
    if (isManualClosed) return '수동 마감';
    if (isTimeExpired) return '시간 초과';
    if (isFull) return '인원 충족';
    return '';
  }
}
```

#### 3.3.2 Firestore 쿼리 최적화

```dart
// 진행중 TO 조회
Future<List<TOModel>> getActiveTOs() async {
  final now = Timestamp.now();
  
  final snapshot = await _firestore
    .collection('tos')
    .where('isManualClosed', isEqualTo: false)
    .where('date', isGreaterThanOrEqualTo: now)
    .orderBy('date', descending: false)
    .get();
  
  return snapshot.docs
    .map((doc) => TOModel.fromMap(doc.data(), doc.id))
    .where((to) => !to.isFull)  // 인원 충족되지 않은 것만
    .toList();
}

// 마감된 TO 조회
Future<List<TOModel>> getClosedTOs() async {
  final snapshot = await _firestore
    .collection('tos')
    .where('isManualClosed', isEqualTo: true)
    .orderBy('closedAt', descending: true)
    .get();
  
  final manualClosed = snapshot.docs
    .map((doc) => TOModel.fromMap(doc.data(), doc.id))
    .toList();
  
  // 시간 초과 또는 인원 충족된 TO도 추가
  final allTOs = await _firestore.collection('tos').get();
  final autoClosed = allTOs.docs
    .map((doc) => TOModel.fromMap(doc.data(), doc.id))
    .where((to) => !to.isManualClosed && to.isClosed)
    .toList();
  
  return [...manualClosed, ...autoClosed]
    ..sort((a, b) => (b.closedAt ?? b.date).compareTo(a.closedAt ?? a.date));
}
```

### 3.4 UI/UX 추가 개선 사항

#### 3.4.1 진행중 탭

```
┌─────────────────────────────────────┐
│ [ 진행중 ] [ 마감됨 ]                 │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 🏢 테스트1                       │ │
│ │ 📁 급구! 긴급 모집              │ │
│ │ 📅 2025-10-29 (수)              │ │
│ │ ⏰ 09:00 ~ 18:00               │ │
│ │ 📊 확정 3/10명  대기 5명        │ │  ← 진행 상태 명확
│ │ ✏️ 🗑️ 🔗 ℹ️ 🔒                  │ │  ← 마감 버튼 추가
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

#### 3.4.2 마감됨 탭

```
┌─────────────────────────────────────┐
│ [ 진행중 ] [ 마감됨 ]                 │
├─────────────────────────────────────┤
│ ┌─────────────────────────────────┐ │
│ │ 🏢 테스트1                       │ │
│ │ 📁 완료된 공고                   │ │
│ │ 🔒 수동 마감  📅 10-28 종료     │ │  ← 마감 사유 표시
│ │ 📊 확정 10/10명 (완료)          │ │
│ │ ℹ️ 🔓                           │ │  ← 재오픈 버튼
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ 🏢 물류센터A                     │ │
│ │ 💼 단일 공고                     │ │
│ │ 🔒 시간 초과  📅 10-27 종료     │ │  ← 자동 마감
│ │ 📊 확정 7/10명 (미충족)         │ │
│ │ ℹ️ 🔓                           │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

### 3.5 구현 우선순위

#### Phase 4-1: 기본 마감 기능 (1-2일)
1. ✅ TO 모델에 마감 관련 필드 추가
2. ✅ 진행중/마감 탭 UI 구현
3. ✅ 수동 마감 기능
4. ✅ 마감 사유 표시

#### Phase 4-2: 고급 기능 (2-3일)
1. ✅ 재오픈 기능
2. ✅ 마감 이력 관리
3. ✅ 알림 시스템 (마감 임박, 인원 충족)
4. ✅ 통계 대시보드 (마감률, 충족률)

#### Phase 4-3: 최적화 (1일)
1. ✅ Firestore 쿼리 최적화
2. ✅ 인덱스 설정
3. ✅ 캐싱 전략
4. ✅ 성능 테스트

---

## 4. 기술적 고려사항

### 4.1 성능 최적화

#### 4.1.1 쿼리 최적화
```dart
// ❌ 비효율적: 모든 TO를 가져와서 클라이언트에서 필터링
final allTOs = await getAllTOs();
final activeTOs = allTOs.where((to) => !to.isClosed).toList();

// ✅ 효율적: 서버 사이드 필터링 + 복합 인덱스
final activeTOs = await _firestore
  .collection('tos')
  .where('isManualClosed', isEqualTo: false)
  .where('date', isGreaterThanOrEqualTo: Timestamp.now())
  .get();
```

#### 4.1.2 필요한 Firestore 인덱스
```
컬렉션: tos
인덱스:
1. isManualClosed (ASC) + date (ASC)
2. isManualClosed (ASC) + closedAt (DESC)
3. businessId (ASC) + date (ASC) + isManualClosed (ASC)
```

### 4.2 에러 처리

#### 4.2.1 네트워크 오류 처리
```dart
try {
  await _closeTOManually();
} on FirebaseException catch (e) {
  if (e.code == 'permission-denied') {
    ToastHelper.showError('권한이 없습니다.');
  } else if (e.code == 'unavailable') {
    ToastHelper.showError('네트워크 연결을 확인해주세요.');
  } else {
    ToastHelper.showError('TO 마감에 실패했습니다.');
  }
}
```

#### 4.2.2 동시성 제어
```dart
// 낙관적 잠금 (Optimistic Locking)
Future<bool> closeTOWithVersion(String toId, int currentVersion) async {
  final toRef = _firestore.collection('tos').doc(toId);
  
  return _firestore.runTransaction((transaction) async {
    final snapshot = await transaction.get(toRef);
    final data = snapshot.data()!;
    
    if (data['version'] != currentVersion) {
      throw Exception('TO가 다른 곳에서 수정되었습니다.');
    }
    
    transaction.update(toRef, {
      'isManualClosed': true,
      'closedAt': FieldValue.serverTimestamp(),
      'version': currentVersion + 1,
    });
    
    return true;
  });
}
```

### 4.3 사용자 경험 개선

#### 4.3.1 로딩 상태 표시
```dart
// 스켈레톤 UI
Widget _buildSkeletonCard() {
  return Shimmer.fromColors(
    baseColor: Colors.grey[300]!,
    highlightColor: Colors.grey[100]!,
    child: Card(...),
  );
}
```

#### 4.3.2 낙관적 UI 업데이트
```dart
// 서버 응답 전에 UI 먼저 업데이트
setState(() {
  to.isManualClosed = true;
});

try {
  await _firestoreService.closeTo(to.id);
} catch (e) {
  // 실패 시 롤백
  setState(() {
    to.isManualClosed = false;
  });
  ToastHelper.showError('마감 처리에 실패했습니다.');
}
```

### 4.4 데이터 일관성

#### 4.4.1 트랜잭션 사용
```dart
Future<void> closeToWithApplications(String toId) async {
  await _firestore.runTransaction((transaction) async {
    // 1. TO 마감
    final toRef = _firestore.collection('tos').doc(toId);
    transaction.update(toRef, {
      'isManualClosed': true,
      'closedAt': FieldValue.serverTimestamp(),
    });
    
    // 2. 대기중인 지원서 자동 거절
    final apps = await _firestore
      .collection('applications')
      .where('toId', isEqualTo: toId)
      .where('status', isEqualTo: 'PENDING')
      .get();
    
    for (var doc in apps.docs) {
      transaction.update(doc.reference, {
        'status': 'REJECTED',
        'rejectedReason': 'TO가 마감되었습니다.',
        'rejectedAt': FieldValue.serverTimestamp(),
      });
    }
  });
}
```

---

## 5. 예상 효과

### 5.1 관리자 측면
- ✅ TO 상태를 명확히 파악 가능
- ✅ 과거 마감 공고 이력 관리
- ✅ 지원자 관리 효율성 증가
- ✅ 불필요한 지원 방지

### 5.2 지원자 측면
- ✅ 마감된 TO에 불필요한 지원 방지
- ✅ 명확한 공고 상태 인지
- ✅ 신뢰성 있는 정보 제공

### 5.3 시스템 측면
- ✅ 데이터 정확성 향상
- ✅ 쿼리 성능 개선
- ✅ 확장성 확보

---

## 6. 리스크 및 대응 방안

### 6.1 예상 리스크

| 리스크 | 영향도 | 대응 방안 |
|--------|--------|-----------|
| 자동 마감 로직 오류 | 높음 | 충분한 테스트 + 수동 재오픈 기능 |
| Firestore 쿼리 비용 증가 | 중간 | 인덱스 최적화 + 캐싱 |
| UI 복잡도 증가 | 낮음 | 간결한 탭 구조 유지 |
| 동시성 문제 | 중간 | 트랜잭션 + 낙관적 잠금 |

### 6.2 테스트 계획
1. **단위 테스트**: 마감 로직 검증
2. **통합 테스트**: 탭 전환 및 필터링
3. **E2E 테스트**: 전체 마감 프로세스
4. **성능 테스트**: 대량 데이터 처리

---

## 7. 결론

### 7.1 금일 달성 사항
✅ 시간 표시 문제 완전 해결  
✅ 그룹/단일 TO 시각적 구분 명확화  
✅ 모바일 터치 영역 최적화  
✅ 상세보기 아이콘 통일  
✅ TO 상세 화면 일관성 확보  

### 7.2 다음 단계 (Phase 4)
🎯 진행중/마감 탭 구현  
🎯 TO 마감 관리 시스템  
🎯 재오픈 기능  
🎯 마감 사유 표시  
🎯 성능 최적화  

### 7.3 예상 일정
- **Phase 4-1**: 2-3일 (기본 마감 기능)
- **Phase 4-2**: 2-3일 (고급 기능)
- **Phase 4-3**: 1일 (최적화)
- **총 예상**: 5-7일

---

**문서 버전**: 1.0  
**최종 수정**: 2025-10-28  
**다음 검토**: Phase 4 착수 전
